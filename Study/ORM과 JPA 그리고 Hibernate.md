# ORM과 JPA 그리고 Hibernate

### ORM(Object-relational mapping) : 객체와 관계와의 설정

객체와 관계형 데이터베이스 간의 매핑을 지원해주는 역할을 함. 이해를 돕기 위해 주소록을 만든다고 가정할때 프로그래밍 언어로 구현한 객체를 데이터 베이스의 테이블에 저장할때 테이블과 객체간의 이질성이 발생하여 관계를 설정하는 것이 어려운데 이것을 자동으로 처리해주는 것이 바로 ORM의 역할이다.



핵심 : **객체가 테이블이 되도록 매핑 시켜주는 것**을 말합니다.

**ORM을 이용하면 SQL Query가 아닌 직관적인 코드(메서드)로서 데이터를 조작**할 수 있습니다.



query를 직접 작성하지 않고 메서드 호출만으로 query가 수행되다 보니, ORM을 사용하면 **생산성이 매우 높아집니다**.



**장점**

- 객체 지향적인 코드로 인해 더 직관적이고 비즈니스 로직에 더 집중할 수 있게 도와준다.
- 재사용 및 유지보수의 편리성이 증가한다.
- DBMS에 대한 종속성이 줄어든다.

**단점**

- 완벽한 ORM 으로만 서비스를 구현하기가 어렵다.
- 프로시저가 많은 시스템에선 ORM의 객체 지향적인 장점을 활용하기 어렵다.



### JPA(Java Persistent API) : JPA란 자바 ORM 기술에 대한 API 표준 명세를 의미한다.

ORM들 중에서 JAVA에서의 ORM기술에 대한 표준 명세

또한, JPA는 ORM을 사용하기 위한 인터페이스를 모아논것.

![1578314723993](C:\Users\Owner\AppData\Roaming\Typora\typora-user-images\1578314723993.png)



### Hiberante : JPA를 구현한 여러 프레임워크중에 하나지만 JPA를 주도하고 있기때문에 JPA Hibernate를 혼용해서 사용.

**JPA(즉 Hibernate)의 탄생이유**

이러한 이유로 SQL을 자동으로 생성해주는 툴이 개발 되기도 했지만 반복 작업은 마찬가지였고, 큰 효과를 얻지 못했던 것 같습니다.

그 이유는 **객체 모델링보다** **데이터 중심 모델링(테이블 설계)을 우선시 했으며, 객체지향의 장점(추상화, 캡슐화, 정보은닉, 상속, 다형성)을 사용하지 않고 객체를 단순히 데이터 전달 목적( VO, DTO )에만 사용했기 때문입니다.**

다시 말하면 객체지향 개발자들이 개발하고 있는 방법이 전혀 객체 지향적이지 않다는 것을 느끼게 되었습니다.



JDBC API를 사용했을 때의 문제

1. **유사한 CURD SQL 반복 작업**

2. **객체를 단순히 데이터 전달 목적으로 사용할 뿐, 객체 지향적이지 못함 ( 페러다임 불일치 )**



**Hibernate의 특징**

Hibernate를 사용하면 위의 문제들을 해결할 수 있습니다.

그리고 항상 완벽한 기술은 없듯이 Hibernate에도 단점이 존재하는데, 지금부터 Hibernate의 장단점을 알아보겠습니다.



**장점**

**1) 생산성**

Hibernate는 SQL를 직접 사용하지 않고, 메서드 호출만으로 쿼리가 수행됩니다.

즉 SQL 반복 작업을 하지 않으므로 생산성이 매우 높아집니다.



그런데 SQL을 직접 사용하지 않는다고 해서 SQL을 몰라도 된다는 것은 아닙니다.

Hibernate가 수행한 쿼리를 콘솔로 출력하도록 설정을 할 수 있는데, 쿼리를 보면서 의도한 대로 쿼리가 짜여졌는지, 성능은 어떠한지에 대한 모니터링이 필요하기 때문에 SQL을 잘 알아야 합니다.



**2) 유지보수**

Hibernate 사용의 또 다른 장점은 테이블 칼럼이 하나 변경되었을 경우, Mybatis에서는 관련 DAO의 파라미터, 결과, SQL 등을 모두 확인하여 수정해야 하지만, JPA를 사용하면 JPA가 이런 일들을 대신해주기 때문에 유지보수 측면에서 좋습니다.



**3) 특정 벤더에 종속적이지 않음**

여러 DB 벤더마다 쿼리 사용이 조금씩 다르기 때문에 애플리케이션 개발 시 처음 선택한 DB를 나중에 바꾸는 것은 매우 어렵습니다.



그런데 JPA는 추상화된 데이터 접근 계층을 제공하기 때문에 특정 벤더에 종속적이지 않습니다.

즉 설정 파일에서 JPA에게 어떤 DB를 사용하고 있는지 알려주기만 하면 얼마든지 DB를 바꿀 수가 있습니다.