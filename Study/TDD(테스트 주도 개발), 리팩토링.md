# TDD(테스트 주도 개발), 리팩토링

##### 프로덕션 코드(production code) - 프로그램 구현을 담당하는 부분, 사용자가 실제로 사용하는 소스 코드

##### 테스트 코드(test code) - 프로덕션 코드가 정상적으로 동작하는지를 확인하는 코드



#### TDD = TFD(Test First Development) + 리팩토링

TDD는 **테스트 기술**이 아니라, **분석 기술**이자 **설계 기술**이다.



#### TDD를 하는 이유

1. 디버깅 시간을 줄여준다.
2. 동작하는 문서 역할을 한다.
3. 변화에 대한 두려움을 줄여준다.



#### TDD 사이클

실패한 테이스 구현 -> 테스트가 성공하도록 프로덕션 코드 구현 -> 프로덕션 코드와 테스트 코드를 리팩토링  // ( 반복 )



#### TDD 원칙

1. 실패하는 단위 테스트를 작성할 때까지 프로덕션 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.



#### TDD로 구현

##### 요구사항 분석 및 설계

- 요구사항 분석을 통해 대략적인 설계 - 객체 추출
- UI, DB 등과 의존관계를 가지지 않은 핵심 도메인 영역을 설계

---

##### 도메인 로직 테스트에 집중

- 처음으로는 **도메인 로직을 테스트**하는 것에 집중

- 대략적인 도메인 객체 설계

---

##### TDD 시작하기

- 처음에는 막연할 것이다.
- **Out => In** 방식으로 접근한다.
- 세세한 것 보다는 **전체 구조에 대한 틀**을 잡는데 집중 ( 나무보단 숲 )
- **객체 행위**에 집중한다.

---

##### TDD로 구현 시작

- TDD사이클로 구현 시작한다. ( Test fails -> Test passes -> Refactor )
- 끊임 없이 리팩토링으로 개선